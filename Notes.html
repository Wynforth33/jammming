<!--

Components needed:
<SearchBar /> this will be the input field that will accept the 'String' either
Title, Artist, Album. See Ravenous <SearchBar />

// Create <SearchBar /> ['React'(Component)]
class SearchBar extends React.Component {
  constructor(props){
    super(props);

    this.state = {
      term: '',
      location: '',
      sortBy: 'best_match'
    };

    // Functions Bound to Parent.
    this.handleTermChange = this.handleTermChange.bind(this);
    this.handleLocationChange = this.handleLocationChange.bind(this);
    this.handleSearch = this.handleSearch.bind(this);

    // Yelp API sort_by options
    this.sortByOptions = {
      'Best Match': 'best_match',
      'Highest Rated': 'rating',
      'Most Reviewed': 'review_count'
    };
  }

  // Checks current sortBy state if it equals the sortByOption, it adds Class
  // 'active'; which highlights element on front end.
  getSortByClass(sortByOption) {
    if (this.state.sortBy === sortByOption) {
      return 'active';
    } else {
      return '';
    }
  }

  handleSortByChange(sortByOption) {
    this.setState({sortBy: sortByOption});
  }

  handleTermChange(e){
    this.setState({term: e.target.value});
  }

  handleLocationChange(e){
    this.setState({location: e.target.value});
  }

  handleSearch(e){
    this.props.searchYelp(this.state.term, this.state.location, this.state.sortBy);
    e.preventDefault();
  }

  renderSortByOptions() {
    return Object.keys(this.sortByOptions).map(sortByOption => {
      let sortByOptionValue = this.sortByOptions[sortByOption];
      return (<li key={sortByOptionValue}
                  // set class to 'active' if it
                  // is the last link item clicked on
                  className={this.getSortByClass(sortByOptionValue)}
                  //Binds this, to handleSortByChange,
                  // but also binds sortByOptionValue, to this function.
                  onClick={this.handleSortByChange.bind(this, sortByOptionValue)}>
                {sortByOption}
             </li>);
    });
  }

  render(){
    return (
      <div className="SearchBar">
        <div className="SearchBar-sort-options">
          <ul>
            {this.renderSortByOptions()}
          </ul>
        </div>
        <div className="SearchBar-fields">
          <input
            onChange={this.handleTermChange}
            placeholder="Search Businesses" />
          <input
            onChange={this.handleLocationChange}
            placeholder="Where?" />
          </div>
        <div className="SearchBar-submit">
          <a onClick={this.handleSearch}>Let&#39;s Go</a>
        </div>
      </div>
    )
  }
}

<SearchSpotify /> this will take the string from SearchBar and handle the GET
request

// Yelp API Object - Handles the Yelp Search Object/Function
const Yelp = {
  search(term, location, sortBy){
    return fetch(`https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/search?term=${term}&location=${location}&sort_by=${sortBy}`, {
      headers: { Authorization: `Bearer ${apiKey}`}
    }).then(response => {
      return response.json();
    }).then(jsonResponse => {
      if (jsonResponse.businesses){
        return jsonResponse.businesses.map(business => {
          id: business.id,
          imageSrc: business.image_url,
          name: business.name,
          address: business.location.address1,
          city: business.location.city,
          state: business.location.state,
          zipCode: business.location.zip_code,
          category: business.categories[0].title,
          rating: business.rating,
          reviewCount: business.review_count
        });
      }
    });
  }
}

<Results /> This will be the field that will be populated by our tracks.
class BusinessList extends React.Component {
  render() {
    return (
      <div className="BusinessList">
        { //Function Creates a Business Instance for Each 'Business' in 'Businesses'
          //The sets a props key to the ['business'(Object)] for <Business /> to use.
          this.props.businesses.map(business => {
            return <Business key={business.id} business={business} />
          })
        }
      </div>
    );
  }
}

<Track /> This will be our Template for what our Tracks should look like in our
track TrackList; will need

// for Tracks in Results                                               add Button
Track name
Artist | album                                                          [+]

// for Tracks in playlist                                               add Button
Track name
Artist | album                                                          [-]

class Business extends React.Component {
  render() {
    const bizProps= this.props.business; // capture ['business'(Props-Object)]
    return ( // Create Business Listing.
      <div className="Business">
        <div className="image-container">
          <img src={bizProps.imageSrc} alt=''/>
        </div>
        <h2>{bizProps.name}</h2>
        <div className="Business-information">
          <div className="Business-address">
            <p>{bizProps.address}</p>
            <p>{bizProps.city}</p>
            <p>{`${bizProps.state} ${bizProps.zipCode}`}</p>
          </div>
          <div className="Business-reviews">
            <h3>{bizProps.category.toUpperCase()}</h3>
            <h3 className="rating">{`${bizProps.rating} stars`}</h3>
            <p>{`${bizProps.reviewCount} reviews`}</p>
          </div>
        </div>
      </div>
    );
  }
}

For the GO between the Results list and the Playlist refer to Todo list.
Also, Todo list will be helpful with the functions for the Add to playlist
button and the remove from playlist button [save as add to completed list,
and add to todo list];

<App /> For the application itself
// Create <App /> ['React'(Component)]; Builds Application Front-end
class App extends React.Component {
  constructor(props){
    super(props);
    this.state ={
      businesses: []
    }
    this.searchYelp = this.searchYelp.bind(this);
  }
  searchYelp(term, location, sortBy) {
    Yelp.search(term, location, sortBy).then(businesses => {
      this.setState({businesses: businesses});
    });
  }

  render() {
    return (
      <div className="App">
        <h1>ravenous</h1>
        <SearchBar searchYelp={this.searchYelp} />
        <BusinessList businesses={businesses} />
      </div>
    );
  }
}















-->
